
!!!
%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %meta{:charset => "utf-8"}/
    %meta{:content => "IE=edge", "http-equiv" => "X-UA-Compatible"}/
    %title Business Process
    :css
      input[type=checkbox]{
      \/* Double-sized Checkboxes */
      \-ms-transform: scale(3.5); /* IE */
      \-moz-transform: scale(3.5); /* FF */
      \-webkit-transform: scale(3.5); /* Safari and Chrome */
      \-o-transform: scale(3.5); /* Opera */
      transform: scale(3.5);
      padding: 1px;}
    :css
      .table.table-borderless {border:0px !important;}
      .fixed-table-container {border:2px !important;}
      .table.table-border {border:0px !important;}
      .table.table-border th, .table td {border: 0px !important;}
    :css
      .apo{font-size:13px;}
      th{font-size:14px;}
      td{font-size:13px;}
      .tab{ margin-left:40px;}
    :css
      span {height:10px; width:55px; background:#F32013; border-radius:3.5px; font-size:15px; color:white; font-family:Arial; text-shadow: 0.5px 0.5px black; padding:1px 5px 4px;}

    %center
      %h1= @business_process.name
    %br
    %h2.text-center Risk & Control List View
    -@business_process.risks.each_with_index do |ris, x|
      %ul
        %li
          %h3 
            #{ris.name}
            %span #{ris.level_of_risk.to_s.gsub(/_/, ' ').titlecase}
            %span #{ris.type_of_risk.to_s.gsub(/_/, ' ').titlecase}
      -# %table.table.table-border
      -#   %thead
      -#     %tr
      -#       %th{:scope => "col"} Risk Name
      -#       %th{:scope => "col"} Level of Risk
      -#       %th{:scope => "col"} Type of Risk
      -#       %th{:scope => "col"} Business Process
      -#   %tbody
      -#     %tr
      -#       %td #{ris.name}
      -#       %td #{ris.level_of_risk.to_s.gsub(/_/, ' ').titlecase}
      -#       %td #{ris.type_of_risk.to_s.gsub(/_/, ' ').titlecase}
      -#       %td #{ris.business_process.name.capitalize}
      -# %br
      %table.table.table-borderless
        %thead
          %tr
            %th.text-center{:scope => "col"} #
            %th.text-center{:scope => "col"} Type of Control
            %th.text-center{:scope => "col"} Control Owner
            %th.text-center{:scope => "col"} Frequency
            %th.text-center{:scope => "col"} Nature
            %th.text-center{:scope => "col"} Assertion
            %th.text-center{:scope => "col"} Ipo
            %th.text-center{:scope => "col"} Status
            %th.text-center{:scope => "col"} Key Control
        -ris.controls.each_with_index do |con,i|
          %tbody
            %tr
              %td.text-center{:scope => "row"} #{i+1}
              %td.text-center #{con.type_of_control.to_s.gsub(/[^0-9A-Za-z]/, ' ').titlecase}
              %td.text-center #{con.control_owner.to_s.gsub(/[^0-9A-Za-z]/, ' ').titlecase}
              %td.text-center #{con.frequency.to_s.gsub(/[^0-9A-Za-z]/, ' ').titlecase}
              %td.text-center #{con.nature.to_s.gsub(/[^0-9A-Za-z]/, ' ').titlecase}
              %td
                -if con.assertion.count > 1
                  .apo  
                    %ul
                      -con.assertion.each do |cop|
                        %li=cop.to_s.gsub(/[^0-9A-Za-z]/, ' ').titlecase
                -else
                  con.assertion.to_s.gsub(/[^0-9A-Za-z]/, ' ').titlecase
              %td
                -if con.ipo.count > 1
                  .apo  
                    %ul
                      -con.ipo.each do |cop|
                        %li=cop.to_s.gsub(/[^0-9A-Za-z]/, ' ').titlecase
                -else
                  con.ipo.to_s.gsub(/[^0-9A-Za-z]/, ' ').titlecase
              %td.text-justify #{con.status.to_s.gsub(/[^0-9A-Za-z]/, ' ').titlecase}
              %td.text-justify 
                -if con.key_control == "true"
                  .risk
                    %input#coding{:checked => "checked", :name => "interest", :type => "checkbox", :value => "true"}/
                    %label{:for => "true"} True
                  .risk
                    %input#false{:name => "interest", :type => "checkbox", :value => "false"}/
                    %label{:for => "false"} False
                -else
                  .risk
                    %input#true{:name => "interest", :type => "checkbox", :value => "true"}/
                    %label{:for => "true"} True
                  .risk
                    %input#false{:checked => "checked", :name => "interest", :type => "checkbox", :value => "false"}/
                    %label{:for => "false"} False
                %br
  


      / %p{:style => "page-break-after:always;"}
      / / %p{:style => "page-break-after:auto;"}
